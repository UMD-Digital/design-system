<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Architecture Overview â€” UMD Design System</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css" rel="stylesheet">
  <style>
    .content-section { background-color: #f8f9fa; border-radius: 8px; padding: 2rem; margin-bottom: 2rem; }
    .code-example { background-color: #ffffff; border: 1px solid #dee2e6; border-radius: 4px; padding: 1rem; margin: 1rem 0; }
    pre { background-color: #f8f9fa; border-radius: 4px; padding: 1rem; overflow-x: auto; margin-bottom: 0; }
    code { color: #e83e8c; }
    .btn-umd { background-color: #e21833; color: white; border: none; }
    .btn-umd:hover { background-color: #c71629; color: white; }
    .cm-callout { background-color: #e3f2fd; border: 1px solid #90caf9; border-radius: 8px; padding: 1rem 1.5rem; margin-bottom: 2rem; }

    .tier-foundation { background-color: #e3f2fd; border: 1px solid #90caf9; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; }
    .tier-infrastructure { background-color: #fff9c4; border: 1px solid #fff176; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; }
    .tier-application { background-color: #e8f5e9; border: 1px solid #a5d6a7; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; }
    .tier-label { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 700; margin-bottom: 0.75rem; }
    .tier-foundation .tier-label { color: #1565c0; }
    .tier-infrastructure .tier-label { color: #f9a825; }
    .tier-application .tier-label { color: #2e7d32; }
    .pkg-inline { display: flex; flex-wrap: wrap; gap: 1rem; }
    .pkg-inline-item { flex: 1; min-width: 200px; }
    .pkg-inline-item strong { display: block; }
    .pkg-inline-item code { font-size: 0.8rem; }
    .decision-table td, .decision-table th { vertical-align: middle; }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #e21833;">
  <div class="container">
    <a class="navbar-brand fw-bold" href="index.html">UMD Design System</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="mainNav">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link active" href="architecture.html">Architecture</a></li>
        <li class="nav-item"><a class="nav-link" href="getting-started.html">Getting Started</a></li>
      </ul>
      <ul class="navbar-nav">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Packages</a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="components/usage.html">Components</a></li>
            <li><a class="dropdown-item" href="styles/static-css.html">Styles</a></li>
            <li><a class="dropdown-item" href="feeds/use-cases.html">Feeds</a></li>
            <li><a class="dropdown-item" href="elements/use-cases.html">Elements</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="tokens/use-cases.html">Tokens</a></li>
            <li><a class="dropdown-item" href="icons/use-cases.html">Icons</a></li>
            <li><a class="dropdown-item" href="utilities/use-cases.html">Utilities</a></li>
            <li><a class="dropdown-item" href="infrastructure/model-and-builder.html">Model &amp; Builder</a></li>
          </ul>
        </li>
        <li class="nav-item"><a class="nav-link" href="http://playground.designsystem.umd.edu" target="_blank">Playground</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container py-4">

  <!-- Breadcrumb -->
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="index.html">Home</a></li>
      <li class="breadcrumb-item active" aria-current="page">Architecture</li>
    </ol>
  </nav>

  <!-- Header Section -->
  <section class="mb-5">
    <h1 class="display-5 fw-bold">Architecture Overview</h1>
    <p class="lead text-muted">Understanding the composable package pyramid</p>
  </section>

  <!-- The Composable Pyramid -->
  <section class="mb-5">
    <h2 class="h3 fw-bold mb-4">The Composable Pyramid</h2>
    <p class="mb-4">The UMD Design System is organized into three tiers. Each tier builds on the one below, and you can enter at whichever level matches your needs.</p>

    <div class="tier-application">
      <div class="tier-label">Application Layer</div>
      <p class="mb-3 fw-semibold">Ready-to-use UI elements, dynamic content, and full web components.</p>
      <div class="pkg-inline">
        <div class="pkg-inline-item">
          <strong>Elements</strong>
          <code>@universityofmaryland/web-elements-library</code>
          <span class="text-muted small">Foundational UI element builders: Atomic, Composite, and Layout.</span>
        </div>
        <div class="pkg-inline-item">
          <strong>Feeds</strong>
          <code>@universityofmaryland/web-feeds-library</code>
          <span class="text-muted small">Dynamic content feeds: academic, experts, news, events, inTheNews.</span>
        </div>
        <div class="pkg-inline-item">
          <strong>Components</strong>
          <code>@universityofmaryland/web-components-library</code>
          <span class="text-muted small">Full web components with Shadow DOM: structural, content, interactive, feed groups.</span>
        </div>
      </div>
    </div>

    <div class="tier-infrastructure">
      <div class="tier-label">Infrastructure Layer</div>
      <p class="mb-3 fw-semibold">CSS utilities, web component model, and element construction.</p>
      <div class="pkg-inline">
        <div class="pkg-inline-item">
          <strong>Styles</strong>
          <code>@universityofmaryland/web-styles-library</code>
          <span class="text-muted small">Static CSS files, Tailwind integration, and token stylesheets.</span>
        </div>
        <div class="pkg-inline-item">
          <strong>Model</strong>
          <code>@universityofmaryland/web-model-library</code>
          <span class="text-muted small">Web component model: Attributes, Register, Slots, Lifecycle.</span>
        </div>
        <div class="pkg-inline-item">
          <strong>Builder</strong>
          <code>@universityofmaryland/web-builder-library</code>
          <span class="text-muted small">ElementBuilder fluent API for constructing elements with lifecycle management.</span>
        </div>
      </div>
    </div>

    <div class="tier-foundation">
      <div class="tier-label">Foundation Layer</div>
      <p class="mb-3 fw-semibold">Raw design values, SVG assets, and helper functions. No UI opinions.</p>
      <div class="pkg-inline">
        <div class="pkg-inline-item">
          <strong>Tokens</strong>
          <code>@universityofmaryland/web-token-library</code>
          <span class="text-muted small">Design primitives: color, spacing, media queries, font definitions.</span>
        </div>
        <div class="pkg-inline-item">
          <strong>Icons</strong>
          <code>@universityofmaryland/web-icons-library</code>
          <span class="text-muted small">SVG icon and logo assets across 13 categories.</span>
        </div>
        <div class="pkg-inline-item">
          <strong>Utilities</strong>
          <code>@universityofmaryland/web-utilities-library</code>
          <span class="text-muted small">Shared helper functions across 15 categories: DOM, events, animation, and more.</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Package Dependency Table -->
  <section class="mb-5">
    <h2 class="h3 fw-bold mb-4">Package Dependency Table</h2>
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle">
        <thead class="table-dark">
          <tr>
            <th>Package</th>
            <th>npm Name</th>
            <th>Depends On</th>
            <th>Used By</th>
            <th>Tier</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Tokens</strong></td>
            <td><code>@universityofmaryland/web-token-library</code></td>
            <td><em>none</em></td>
            <td>Utilities, Styles, Elements</td>
            <td><span class="badge bg-primary">Foundation</span></td>
          </tr>
          <tr>
            <td><strong>Icons</strong></td>
            <td><code>@universityofmaryland/web-icons-library</code></td>
            <td><em>none</em></td>
            <td>Elements</td>
            <td><span class="badge bg-primary">Foundation</span></td>
          </tr>
          <tr>
            <td><strong>Utilities</strong></td>
            <td><code>@universityofmaryland/web-utilities-library</code></td>
            <td>Tokens, Styles</td>
            <td>Elements, Feeds</td>
            <td><span class="badge bg-primary">Foundation</span></td>
          </tr>
          <tr>
            <td><strong>Styles</strong></td>
            <td><code>@universityofmaryland/web-styles-library</code></td>
            <td>Tokens</td>
            <td>Utilities, Model, Builder, Elements</td>
            <td><span class="badge bg-warning text-dark">Infrastructure</span></td>
          </tr>
          <tr>
            <td><strong>Model</strong></td>
            <td><code>@universityofmaryland/web-model-library</code></td>
            <td>Styles <em>(peer)</em></td>
            <td>Components</td>
            <td><span class="badge bg-warning text-dark">Infrastructure</span></td>
          </tr>
          <tr>
            <td><strong>Builder</strong></td>
            <td><code>@universityofmaryland/web-builder-library</code></td>
            <td>Utilities, Styles <em>(peer)</em></td>
            <td>Elements</td>
            <td><span class="badge bg-warning text-dark">Infrastructure</span></td>
          </tr>
          <tr>
            <td><strong>Elements</strong></td>
            <td><code>@universityofmaryland/web-elements-library</code></td>
            <td>Tokens, Builder, Utilities, Styles <em>(peer)</em>, Icons <em>(peer)</em></td>
            <td>Feeds, Components</td>
            <td><span class="badge bg-success">Application</span></td>
          </tr>
          <tr>
            <td><strong>Feeds</strong></td>
            <td><code>@universityofmaryland/web-feeds-library</code></td>
            <td>Tokens, Elements, Utilities</td>
            <td>Components</td>
            <td><span class="badge bg-success">Application</span></td>
          </tr>
          <tr>
            <td><strong>Components</strong></td>
            <td><code>@universityofmaryland/web-components-library</code></td>
            <td>All packages above</td>
            <td><em>(top level)</em></td>
            <td><span class="badge bg-success">Application</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- The ElementModel Pattern -->
  <section class="mb-5">
    <h2 class="h3 fw-bold mb-4">The ElementModel Pattern</h2>
    <p>Every element creation function in the design system returns an <code>ElementModel</code> -- a DOM node paired with its scoped CSS. This consistent contract is used by Elements, Feeds, and Builder throughout the system.</p>

    <div class="content-section">
      <h5 class="fw-bold mb-3">Interface</h5>
      <div class="code-example">
        <pre><code class="language-typescript">interface ElementModel {
  element: HTMLElement | DocumentFragment;
  styles: string;
  update?: (props: Record&lt;string, unknown&gt;) =&gt; void;
  destroy?: () =&gt; void;
}</code></pre>
      </div>

      <ul class="mt-3">
        <li><strong>element</strong> -- The constructed DOM node or fragment, ready for insertion.</li>
        <li><strong>styles</strong> -- A CSS string scoped to this element. Injected into Shadow DOM or a style tag.</li>
        <li><strong>update</strong> -- Optional callback to reactively update the element with new props.</li>
        <li><strong>destroy</strong> -- Optional cleanup callback for removing event listeners and references.</li>
      </ul>
    </div>

    <div class="content-section">
      <h5 class="fw-bold mb-3">Two-Step Usage Pattern</h5>
      <p>Creating and mounting an element follows a consistent two-step pattern:</p>
      <div class="code-example">
        <pre><code class="language-typescript">import { textLockup } from '@universityofmaryland/web-elements-library/composite';

// Step 1: Create the element model
const model = textLockup.headline({
  headline: 'Welcome to UMD',
  text: 'The flagship university of the state of Maryland.',
  isThemeDark: false,
});

// Step 2: Mount the element and inject styles
const container = document.getElementById('app');
container.appendChild(model.element);

const styleTag = document.createElement('style');
styleTag.textContent = model.styles;
document.head.appendChild(styleTag);

// Later: update reactively
model.update?.({ headline: 'Updated Headline' });

// Cleanup when done
model.destroy?.();</code></pre>
      </div>
      <p class="text-muted small mt-2">In Web Components (Shadow DOM), the styles string is injected into the shadow root automatically. For standalone usage, append a style tag to the document head or a container element.</p>
    </div>
  </section>

  <!-- Choosing Your Entry Point -->
  <section class="mb-5">
    <h2 class="h3 fw-bold mb-4">Choosing Your Entry Point</h2>
    <p>Use the decision tree below to find the right starting package for your use case.</p>

    <div class="table-responsive">
      <table class="table table-bordered decision-table">
        <thead class="table-dark">
          <tr>
            <th>I want to...</th>
            <th>Start with</th>
            <th>Guide</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Drop in HTML components with no JavaScript</td>
            <td><strong>Components CDN</strong></td>
            <td><a href="getting-started.html#cdn">CDN Quick Start</a></td>
          </tr>
          <tr>
            <td>Use web components in a build-tool project</td>
            <td><strong>Components npm</strong></td>
            <td><a href="getting-started.html#npm">npm Installation</a></td>
          </tr>
          <tr>
            <td>Add CSS utilities without web components</td>
            <td><strong>Styles Static CSS</strong></td>
            <td><a href="styles/static-css.html">Static CSS Guide</a></td>
          </tr>
          <tr>
            <td>Integrate with Tailwind CSS</td>
            <td><strong>Styles + Tailwind</strong></td>
            <td><a href="styles/tailwind.html">Tailwind Integration</a></td>
          </tr>
          <tr>
            <td>Build UI elements programmatically</td>
            <td><strong>Elements</strong></td>
            <td><a href="elements/use-cases.html">Elements Use Cases</a></td>
          </tr>
          <tr>
            <td>Render dynamic news/events feeds</td>
            <td><strong>Feeds</strong></td>
            <td><a href="feeds/use-cases.html">Feeds Use Cases</a></td>
          </tr>
          <tr>
            <td>Build custom web components</td>
            <td><strong>Model + Builder</strong></td>
            <td><a href="infrastructure/model-and-builder.html">Model &amp; Builder Guide</a></td>
          </tr>
          <tr>
            <td>Access raw design values (colors, spacing, fonts)</td>
            <td><strong>Tokens</strong></td>
            <td><a href="tokens/use-cases.html">Tokens Use Cases</a></td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- Content Manager Callout -->
  <section class="mb-5">
    <div class="cm-callout">
      <h5 class="fw-bold mb-2">Not a developer?</h5>
      <p class="mb-0">Visit <a href="https://designsystem.umd.edu"><strong>designsystem.umd.edu</strong></a> for visual examples and design guidance.</p>
    </div>
  </section>

</div>

<!-- Footer -->
<footer class="bg-dark text-light py-4 mt-5">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <h6>UMD Design System</h6>
        <p class="small text-muted">9 composable packages for consistent, accessible UMD digital experiences.</p>
      </div>
      <div class="col-md-4">
        <h6>Resources</h6>
        <ul class="list-unstyled small">
          <li><a href="https://designsystem.umd.edu" class="text-muted">designsystem.umd.edu</a></li>
          <li><a href="http://playground.designsystem.umd.edu" class="text-muted">Component Playground</a></li>
          <li><a href="https://github.com/UMD-Digital/design-system" class="text-muted">GitHub</a></li>
        </ul>
      </div>
      <div class="col-md-4">
        <h6>npm Packages</h6>
        <ul class="list-unstyled small">
          <li><a href="https://www.npmjs.com/org/universityofmaryland" class="text-muted">@universityofmaryland on npm</a></li>
        </ul>
      </div>
    </div>
    <hr class="my-3 border-secondary">
    <p class="text-center text-muted small mb-0">&copy; University of Maryland. All rights reserved. | <a href="https://umd.edu" class="text-muted">umd.edu</a> | <a href="https://brand.umd.edu" class="text-muted">Brand Guidelines</a></p>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-typescript.min.js"></script>
</body>
</html>
