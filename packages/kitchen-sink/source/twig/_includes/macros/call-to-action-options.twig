{% import './fields/span.twig' as CTASpan %}

{% set url = params.url ?? 'https://umd.edu' %}

{% macro CtaOptions(params) %}
  {% if params == 'alert' %}
    <svg width="40"
      height="40"
      viewBox="0 0 40 40"
      fill="none"
      xmlns="http://www.w3.org/2000/svg">
      <circle cx="20" cy="20" r="20" />
      <rect x="18" y="11" width="4" height="13" fill="white" />
      <rect width="4"
        height="4"
        transform="matrix(1 0 0 -1 18 30)"
        fill="white" />
    </svg>
  {% endif %}

  {% if params == 'arrow' %}
    <svg aria-hidden="true"
      viewBox="0 0 24 8"
      fill="none"
      xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd"
        clip-rule="evenodd"
        d="M20.0184 5.05487L17.0694 8H19.8462L23.8959 4.03913L23.8567 4L23.8959 3.96087L19.8462 0L17.0694 0L20.2936 3.22002H0L0 5.05487H20.0184Z" />
    </svg>
  {% endif %}

  {% if params == 'chevron' %}
    <svg aria-hidden="true"
      width="96"
      height="96"
      viewBox="0 0 96 96"
      fill="none"
      xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd"
        clip-rule="evenodd"
        d="M52.9255 47.8801L18 13H42.214L77.5269 47.539L77.1858 47.8801L77.5269 48.2212L42.214 82.7602H18L52.9255 47.8801Z"></path>
    </svg>
  {% endif %}
{% endmacro %}

{% macro SuccinctCTA(params) %}
  {% set attrs = '' %}
  {% set buttonAttr = '' %}

  {% set hasCtaLink = params.ctaLink ?? true %}
  {% set hasCtaSpan = params.ctaSpan ?? true %}
  {% set isExternalLink = params.externalLink ?? true %}
  {% set hasPlainText = params.plainText ?? false %}

  {% if params.primary %}
    {% set attrs = attrs ~ 'type="primary"' %}
  {% endif %}

  {% if params.secondary %}
    {% set attrs = attrs ~ 'type="secondary"' %}
  {% endif %}

  {% if params.outline %}
    {% set attrs = attrs ~ 'type="outline"' %}
  {% endif %}

  {% if params.theme %}
    {% set attrs = attrs ~ 'theme="dark"' %}
  {% endif %}

  {% if params.large %}
    {% set attrs = attrs ~ 'size="large"' %}
  {% endif %}

  {% if params.download %}
    {% set buttonAttr = buttonAttr ~ 'type="button" download' %}
  {% endif %}

  {% if params.button %}
    {% set buttonAttr = buttonAttr ~ 'type="button"' %}
  {% endif %}

  <umd-element-call-to-action {{ attrs }}>
    {% if isExternalLink %}
      <a href="{{ url }}" target="_blank">
        {% if hasCtaLink %}
          {{ _self.CtaOptions(params.ctaOption) }}
        {% endif %}

        {% if hasCtaSpan %}
          {{ CTASpan.CTASpanSuccinct() }}
        {% endif %}
      </a>
    {% else %}
      <a href="/" {{ buttonAttr }}>
        {% if hasCtaSpan %}
          {{ CTASpan.CTASpanSuccinct() }}
        {% endif %}
      </a>
    {% endif %}
    {% if hasPlainText %}
      <a href="" slot="plain-text">Plain Text</a>
    {% endif %}
  </umd-element-call-to-action>
{% endmacro %}

{% macro NormalCTA(params) %}
  {% set attrs = '' %}
  {% set buttonAttr = '' %}

  {% set hasCtaLink = params.ctaLink ?? true %}
  {% set hasCtaSpan = params.ctaSpan ?? true %}
  {% set isExternalLink = params.externalLink ?? true %}
  {% set hasPlainText = params.plainText ?? false %}

  {% if params.primary %}
    {% set attrs = attrs ~ 'type="primary"' %}
  {% endif %}

  {% if params.secondary %}
    {% set attrs = attrs ~ 'type="secondary"' %}
  {% endif %}

  {% if params.outline %}
    {% set attrs = attrs ~ 'type="outline"' %}
  {% endif %}

  {% if params.theme %}
    {% set attrs = attrs ~ 'theme="dark"' %}
  {% endif %}

  {% if params.large %}
    {% set attrs = attrs ~ 'size="large"' %}
  {% endif %}

  {% if params.download %}
    {% set buttonAttr = buttonAttr ~ 'type="button" download' %}
  {% endif %}

  {% if params.button %}
    {% set buttonAttr = buttonAttr ~ 'type="button"' %}
  {% endif %}

  <umd-element-call-to-action {{ attrs }}>
    {% if isExternalLink %}
      <a href="{{ url }}" {{ buttonAttr }}>
        {% if hasCtaLink %}
          {{ _self.CtaOptions(params.ctaOption) }}
        {% endif %}

        {% if hasCtaSpan %}
          {{ CTASpan.CTASpanNormal() }}
        {% endif %}
      </a>
    {% else %}
      <a href="/" {{ buttonAttr }}>
        {% if hasCtaSpan %}
          {{ CTASpan.CTASpanNormal() }}
        {% endif %}
      </a>
    {% endif %}
    {% if hasPlainText %}
      <a href="" slot="plain-text">Plain Text</a>
    {% endif %}
  </umd-element-call-to-action>
{% endmacro %}

{% macro VerboseCTA(params) %}
  {% set attrs = '' %}
  {% set buttonAttr = '' %}

  {% set hasCtaLink = params.ctaLink ?? true %}
  {% set hasCtaSpan = params.ctaSpan ?? true %}
  {% set isExternalLink = params.externalLink ?? true %}
  {% set hasPlainText = params.plainText ?? false %}

  {% if params.primary %}
    {% set attrs = attrs ~ 'type="primary"' %}
  {% endif %}

  {% if params.secondary %}
    {% set attrs = attrs ~ 'type="secondary"' %}
  {% endif %}

  {% if params.outline %}
    {% set attrs = attrs ~ 'type="outline"' %}
  {% endif %}

  {% if params.theme %}
    {% set attrs = attrs ~ 'theme="dark"' %}
  {% endif %}

  {% if params.large %}
    {% set attrs = attrs ~ 'size="large"' %}
  {% endif %}

  {% if params.download %}
    {% set buttonAttr = buttonAttr ~ 'type="button" download' %}
  {% endif %}

  {% if params.button %}
    {% set buttonAttr = buttonAttr ~ 'type="button"' %}
  {% endif %}

  <umd-element-call-to-action {{ attrs }}>
    {% if isExternalLink %}
      <a href="{{ url }}" {{ buttonAttr }}>
        {% if hasCtaLink %}
          {{ _self.CtaOptions(params.ctaOption) }}
        {% endif %}

        {% if hasCtaSpan %}
          {{ CTASpan.CTASpanVerbose() }}
        {% endif %}
      </a>
    {% else %}
      <a href="/" {{ buttonAttr }}>
        {% if hasCtaSpan %}
          {{ CTASpan.CTASpanVerbose() }}
        {% endif %}
      </a>
    {% endif %}
    {% if hasPlainText %}
      <a href="" slot="plain-text">Plain Text</a>
    {% endif %}
  </umd-element-call-to-action>
{% endmacro %}
